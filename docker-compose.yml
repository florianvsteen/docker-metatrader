services:
  mt5:
    image: fortesenselabs/metatrader:5
    container_name: mt5
    restart: unless-stopped
    privileged: true          # Required for Xvfb virtual display to work
    environment:
      - DISPLAY=:0
    ports:
      - "5900:5900"           # VNC viewer (password: root)
      - "8001:8000"           # REST API â€” http://your-server:8000/docs
      - "3001:3000"           # Socket.io API
    volumes:
      - mt5-data:/data
    shm_size: '256mb'         # Prevents X server crashes under low shared memory

volumes:
  mt5-data:
